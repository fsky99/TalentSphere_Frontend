<div class="grid grid-cols-1 gap-6">
    <!-- Events Table -->
    <div class="w-full text-center bg-white border border-gray-200 rounded-lg shadow sm:p-8 dark:bg-gray-800 dark:border-gray-700">
        
        <div  class="flex items-center justify-between mb-4 py-3">
          <h5 class="text-xl font-bold leading-none text-gray-900 dark:text-white">Events</h5>
          <!-- <a href="#" class="text-sm font-medium text-blue-600 hover:underline dark:text-blue-500">View all</a> -->
        </div>
  
        <table class="w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400">
  
          <tbody>
            <tr *ngFor="let data of events" class="odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700">
              <td class="px-6 py-6">
                <img class="rounded w-14 h-14" src={{data.picture}} alt="Event image">
              </td>
              <th scope="row" class="px-6 py-6 font-medium text-gray-900 whitespace-nowrap dark:text-white">
                {{data.eventName}}
              </th>
              <td class="px-6 py-4">
                {{formatDate(data.eventDate)}}
              </td>
              <td class="px-6 py-4">
                {{formatTime(data.eventDate)}}       
       </td>
            </tr>
            <!-- Additional rows -->
          </tbody>
        </table>
      </div>
  
  
    <!-- Requests and Activities -->
    <div class="grid grid-cols-2 gap-6">
      <!-- Requests -->
      <div class="w-full p-4 bg-white border border-gray-200 rounded-lg shadow sm:p-8 dark:bg-gray-800 dark:border-gray-700">
        <div class="flex items-center justify-between mb-4">
          <h5 class="text-xl font-bold leading-none text-gray-900 dark:text-white">Requests</h5>
          <a href="#" class="text-sm font-medium text-blue-600 hover:underline dark:text-blue-500">View all</a>
        </div>
        <div class="flow-root">
          <ul role="list" class="divide-y divide-gray-200 dark:divide-gray-700">
            <li class="py-3 sm:py-4" *ngFor="let leaveData of combinedData">
              <div class="flex items-center">
                <div class="flex-shrink-0">
                  <img class="w-8 h-8 rounded-full" src="https://via.placeholder.com/150" alt="Profile image">
                </div>
                <div class="flex-1 min-w-0 ms-4">
                  <p class="text-sm font-medium text-gray-900 truncate dark:text-white">{{ leaveData.fname }} {{ leaveData.lname }}</p>
                  <p class="text-sm text-gray-500 truncate dark:text-gray-400">Leave Request</p>
                </div>
                <div class="px-6 py-4">
                  <div class="flex items-center">
                    <div *ngIf="leaveData.leaves[0]?.status === 'A'" class="h-2.5 w-2.5 rounded-full bg-red-500 me-2"></div>
                    <div *ngIf="leaveData.leaves[0]?.status !== 'A'" class="h-2.5 w-2.5 rounded-full bg-green-500 me-2"></div>
                    <span>{{ leaveData.leaves[0]?.status === 'A' ? 'Closed' : 'Open' }}</span>
                  </div>
                </div>
              </div>
            </li>
          </ul>
        </div>
      </div>
      
      <!-- Activities -->
      <div class="w-full p-4 bg-white border border-gray-200 rounded-lg shadow sm:p-8 dark:bg-gray-800 dark:border-gray-700">
        <div class="flex items-center justify-between mb-4">
          <h5 class="text-xl font-bold leading-none text-gray-900 dark:text-white">Activities</h5>
          <!-- <a href="#" class="text-sm font-medium text-blue-600 hover:underline dark:text-blue-500">View all</a> -->
        </div>
        <div class="flow-root">
          <ul role="list" class="divide-y divide-gray-200 dark:divide-gray-700"> 
    
              <li *ngFor="let data of combinedData" class="py-3 sm:py-4">
                <div *ngFor="let act of data.activity
                " class="flex items-center">
                    <div class="flex-shrink-0">
                        <img class="w-8 h-8 rounded-full" src={{data.picture}} alt="image">
                    </div>
                    <div class="flex-1 min-w-0 ms-4">
                        <p class="text-sm font-medium text-gray-900 truncate dark:text-white">{{data.fname}} {{data.lname}}</p>
                        <p class="text-sm text-gray-500 truncate dark:text-gray-400">{{act.projectName}}</p>
                    </div>
                    <td class="px-6 py-4">
                      <div class="flex items-center">
                        <div *ngIf="act.status === 'N'" class="h-2.5 w-2.5 rounded-full bg-green-500 me-2"></div> 
                        <div *ngIf="act.status === 'C'" class="h-2.5 w-2.5 rounded-full bg-red-500 me-2"></div> 
                        <span *ngIf="act.status === 'N'">Open</span>
                        <span *ngIf="act.status === 'C'">Closed</span>
                    
                         </div>
                  </td>
    
                </div>
            </li>
                      
                  
               
          </ul>
      </div>
    </div>
  </div>

  <!-- Upcoming Days Off Table -->
  <div class="w-full text-center bg-white border border-gray-200 rounded-lg shadow sm:p-8 dark:bg-gray-800 dark:border-gray-700">
    <div class="flex items-center justify-between mb-4">
      <h5 class="text-xl font-bold leading-none text-gray-900 dark:text-white">Upcoming Days Off</h5>
      <a href="#" class="text-sm font-medium text-blue-600 hover:underline dark:text-blue-500">View all</a>
    </div>
    <table class="w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400">
      <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
        <tr>
          <th scope="col" class="px-6 py-3">
            Name
          </th>
          <th scope="col" class="px-6 py-3">
            Role
          </th>
          <th scope="col" class="px-6 py-3">
            Date
          </th>
        </tr>
      </thead>
      <tbody>
        <ng-container *ngFor="let data of combinedData; let i = index">
          <tr *ngIf="i < 5" class="odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700">
            <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">
              {{data.fname}} {{data.lname}}
            </th>
            <td class="px-6 py-4">
              {{data.emplJIfo.jobName}}
            </td>
            <td class="px-6 py-4">
              <div *ngFor="let leav of data.leaves">
                {{formatDate(leav.date)}}
              </div>
            </td>
          </tr>
        </ng-container>
        <!-- Additional rows -->
      </tbody>
    </table>
  </div>
</div>  